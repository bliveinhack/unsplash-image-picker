{"version":3,"file":"index.modern.js","sources":["../src/component/modal.tsx","../src/component/picker/photo-card.tsx","../src/component/picker/photo-list.component.tsx","../src/component/picker/search-bar.component.tsx","../src/component/picker/index.tsx","../src/component/picker-modal/picker-modal.tsx"],"sourcesContent":["import cx from 'classnames'\r\nimport React from 'react'\r\n\r\nexport default function Modal({\r\n  children,\r\n  className = '',\r\n  width = 540,\r\n  padding = true,\r\n  active = false,\r\n  setActive = function (_e: any) {},\r\n  ...props\r\n}: any): JSX.Element {\r\n  return (\r\n    <div\r\n      onClick={(_e) => {\r\n        if (active) {\r\n          setActive(false)\r\n        } else {\r\n          setActive(true)\r\n        }\r\n      }}\r\n      onKeyUp={(e) => {\r\n        if (e.key === 'Escape') {\r\n          setActive(false)\r\n        }\r\n      }}\r\n      className={cx(`Modal`, {\r\n        active: active\r\n      })}\r\n      {...props}\r\n    >\r\n      <Card\r\n        onClick={(e: any) => {\r\n          // stop the card being closed when we click on inner divs\r\n          if (active) {\r\n            e.stopPropagation()\r\n          }\r\n        }}\r\n        padding={padding}\r\n        className='overflow-hidden h-full'\r\n        style={{ maxWidth: width, width: '100%' }}\r\n      >\r\n        {children}\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Card({\r\n  children,\r\n  padding = true,\r\n  className = '',\r\n  style = {},\r\n  onClick = (_: any) => {}\r\n}: any): JSX.Element {\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      style={style}\r\n      className={cx('Card rounded shadow bg-white mx-auto my-auto', {\r\n        'p-4': padding\r\n      })}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\n/**\r\n * @description PhotoCard component for UnsplashImagePicker\r\n * @param {Object} photo - The photo to display.\r\n * @param {funtion} onPhotoSelect - Function to call when a photo is selected.\r\n */\r\nexport default function UnsplashPhotoCard({\r\n  photo,\r\n  onPhotoSelect = (_: any) => {}\r\n}: any) {\r\n  return (\r\n    <div\r\n      className='group relative h-60 sm:h-44 md:h-32 w-full place-items-center object-cover cursor-pointer border theme-border-default'\r\n      key={photo.id}\r\n      onClick={() => onPhotoSelect(photo)}\r\n    >\r\n      <img\r\n        className='card-img place-items-center w-full object-cover h-full rounded'\r\n        src={photo.urls.thumb}\r\n        alt={photo.alt_description}\r\n      />\r\n      <div\r\n        className='absolute top-0 right-0 left-0 bottom-0 invisible group-hover:visible group-hover:bg-black/20'\r\n        style={{ color: 'white' }}\r\n      >\r\n        <div className='flex space-x-1 items-center place-content-center justify-between m-2'>\r\n          <div className='flex items-center space-x-1'>\r\n            <img\r\n              className='rounded-full h-6 w-6'\r\n              src={photo.user.profile_image.small}\r\n              alt={photo.user.username}\r\n            />\r\n            <h6 className='text-xs word-breaker'>{photo.user.name}</h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport UnsplashPhotoCard from './photo-card'\r\n\r\ninterface Props {\r\n  isLoading?: boolean\r\n  isLoadingMore?: boolean\r\n  photoList: Array<any>\r\n  total?: number | undefined\r\n  onPhotoSelect: (photo: any) => void\r\n  loadMore: () => void\r\n}\r\nfunction PhotoList({\r\n  isLoading = false,\r\n  isLoadingMore = false,\r\n  photoList,\r\n  total,\r\n  onPhotoSelect,\r\n  loadMore\r\n}: Props) {\r\n  const listHeight = '700px' // 'calc(100 - 125px)'\r\n  const ref = React.useMemo(() => React.createRef<HTMLDivElement>(), [])\r\n\r\n  const onScroll = () => {\r\n    if (ref.current) {\r\n      const { scrollTop, scrollHeight, clientHeight } = ref.current\r\n      if (scrollHeight - (scrollTop + clientHeight) < 20) {\r\n        // Contributors list lazy loading you're at the bottom of the page\r\n        // do this when we reach end\r\n        loadMore()\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='Body'>\r\n      {isLoading ? (\r\n        <div className='flex items-center justify-center h-96'>\r\n          <Loader />\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {Array.isArray(photoList) && photoList.length > 0 && (\r\n            <div\r\n              className='PhotoList grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 overflow-y-auto p-4 pb-12'\r\n              style={{ maxHeight: listHeight }}\r\n              ref={ref}\r\n              onScroll={onScroll}\r\n            >\r\n              {photoList.map((photo: any) => {\r\n                return (\r\n                  <UnsplashPhotoCard\r\n                    key={photo.id}\r\n                    photo={photo}\r\n                    onPhotoSelect={onPhotoSelect}\r\n                  />\r\n                )\r\n              })}\r\n              {isLoadingMore && (\r\n                <div className='sm:col-span-2 md:col-span-3 my-4 flex justify-center'>\r\n                  <Loader />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          {Array.isArray(photoList) &&\r\n            photoList.length === 0 &&\r\n            total === 0 && (\r\n              <div className='flex items-center justify-center h-96'>\r\n                No photos found\r\n              </div>\r\n            )}\r\n          {!total && (\r\n            <div className='flex items-center justify-center h-96 text-gray-600' />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nfunction Loader() {\r\n  return (\r\n    <svg\r\n      className='animate-spin -ml-1 mr-3 h-5 w-5 text-blue'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      fill='none'\r\n      viewBox='0 0 24 24'\r\n    >\r\n      <circle\r\n        className='opacity-25'\r\n        cx='12'\r\n        cy='12'\r\n        r='10'\r\n        stroke='currentColor'\r\n        strokeWidth='4'\r\n      />\r\n      <path\r\n        className='opacity-75'\r\n        fill='currentColor'\r\n        d='M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z'\r\n      />\r\n    </svg>\r\n  )\r\n}\r\nexport default PhotoList\r\n","import React from 'react'\r\n\r\ninterface Props {\r\n  query: string\r\n  setQuery: (query: string) => void\r\n  onSearch: (query: string) => void\r\n}\r\nfunction SearchBar({ setQuery, query, onSearch }: Props) {\r\n  const searchPhotos = async (e: any) => {\r\n    e.preventDefault()\r\n    onSearch(query)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <form onSubmit={searchPhotos} className='flex items-center space-x-2'>\r\n          <label className=' w-full'>\r\n            <input\r\n              className='placeholder:italic placeholder:theme-text-subtitle-1  w-full border theme-border-default rounded-md py-2 pl-3 pr-3  focus:outline-none focus:theme-border-primary  focus:ring-1 sm:text-sm'\r\n              placeholder='Search for an image'\r\n              type='text'\r\n              name='search'\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n            />\r\n          </label>\r\n          <span>\r\n            {/* <Button label={'Search'} onClick={searchPhotos} /> */}\r\n            <button\r\n              className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md'\r\n              type='submit'\r\n            >\r\n              Search\r\n            </button>\r\n          </span>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchBar\r\n","import React from 'react'\r\nimport { createApi } from 'unsplash-js'\r\nimport PhotoList from './photo-list.component'\r\nimport SearchBar from './search-bar.component'\r\n\r\ninterface Props {\r\n  unsplashAccessKey: string\r\n  initialPhotoSearchQuery?: string\r\n  onPhotoSelect?: (photo: any) => void\r\n}\r\n\r\n/**\r\n * @description ImagePicker search image from Unsplash.\r\n * @param {string} unsplashAccessKey - The unsplash access key.\r\n * @param {string} initialPhotoSearchQuery - The initial search query.\r\n * @param {function} onPhotoSelect - Function to call when a photo is selected.\r\n */\r\nexport default function ImagePicker({\r\n  unsplashAccessKey,\r\n  initialPhotoSearchQuery = '',\r\n  onPhotoSelect = (_: any) => {}\r\n}: Props) {\r\n  const [pics, setPics] = React.useState<any[]>([])\r\n  const [total, setTotal] = React.useState<number | undefined>()\r\n  const [query, setQuery] = React.useState('')\r\n  const [isLoading, setIsLoading] = React.useState(false)\r\n  const [isLoadingMore, setIsLoadingMore] = React.useState(false)\r\n  const [page, setPage] = React.useState(1)\r\n\r\n  const unsplash = createApi({ accessKey: unsplashAccessKey })\r\n\r\n  React.useEffect(() => {\r\n    if (initialPhotoSearchQuery !== '') {\r\n      setQuery(initialPhotoSearchQuery)\r\n      fetchPhotos(1, initialPhotoSearchQuery)\r\n    }\r\n  }, [])\r\n\r\n  const fetchPhotos = (page: number, text: string, reset = false) => {\r\n    if (isLoading || isLoadingMore) {\r\n      return\r\n    }\r\n    if (page === 1) {\r\n      setIsLoading(true)\r\n    } else {\r\n      setIsLoadingMore(true)\r\n    }\r\n    setPage(page)\r\n    unsplash.search\r\n      .getPhotos({\r\n        page: page,\r\n        perPage: 30,\r\n        query: text,\r\n        orientation: 'landscape'\r\n      })\r\n      .then((response: any) => {\r\n        const newPics = response?.response?.results\r\n        if (newPics) {\r\n          let mergedPics = newPics\r\n          if (!reset) {\r\n            mergedPics = [...pics, ...newPics]\r\n          }\r\n          setPics(mergedPics)\r\n          setTotal(response.response.total)\r\n        }\r\n        setIsLoading(false)\r\n        setIsLoadingMore(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='ImagePicker items-center bg-white rounded'>\r\n      <div className='bg-white '>\r\n        <div className='Picker relative h-full rounded'>\r\n          <div className='px-4 pt-4 font-bold text-lg bg-white '>\r\n            {' '}\r\n            Search image\r\n          </div>\r\n          <div className='shadow p-4 bg-white'>\r\n            <div className=''>\r\n              <SearchBar\r\n                onSearch={(query: string) => {\r\n                  setPics([])\r\n                  fetchPhotos(1, query, true)\r\n                }}\r\n                query={query}\r\n                setQuery={setQuery}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <PhotoList\r\n            total={total}\r\n            photoList={pics}\r\n            isLoading={isLoading}\r\n            isLoadingMore={isLoadingMore}\r\n            loadMore={() => {\r\n              fetchPhotos(page + 1, query)\r\n            }}\r\n            onPhotoSelect={async (photo: any) => {\r\n              try {\r\n                // let blob = await fetch(photo.urls.regular).then((r) => r.blob())\r\n                // let image = await URL.createObjectURL(blob)\r\n                onPhotoSelect(photo)\r\n              } catch (error) {\r\n                console.log(error)\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Modal from '../modal'\r\nimport ImagePicker from '../picker'\r\n\r\ninterface Props {\r\n  unsplashAccessKey: any\r\n  active?: boolean\r\n  modalWidth?: number\r\n  modalClassName?: string\r\n  initialPhotoSearchQuery?: string\r\n  setActive?: (active: boolean) => void\r\n  onPhotoSelect?: (photo: any) => void\r\n}\r\n\r\n/**\r\n * @description ImagePickerModal search image from Unsplash.\r\n * @param {string} unsplashAccessKey - The unsplash access key.\r\n * @param {string} initialPhotoSearchQuery - The initial search query.\r\n * @param {boolean} active - Whether the image picker is active.\r\n * @param {function} setActive - Function to set the image picker active.\r\n * @param {function} onPhotoSelect - Function to call when a photo is selected.\r\n * @param {number} modalWidth - The width of the modal. Default is 840px.\r\n * @param {string} modalClassName - The classname for the modal.\r\n */\r\nexport default function ImagePickerModal({\r\n  unsplashAccessKey,\r\n  active = false,\r\n  initialPhotoSearchQuery = '',\r\n  setActive = (_: boolean) => {},\r\n  onPhotoSelect = (_: any) => {},\r\n  modalWidth = 840,\r\n  modalClassName = ''\r\n}: Props) {\r\n  if (!active) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=''>\r\n      <Modal\r\n        active={active}\r\n        setActive={setActive}\r\n        width={`${modalWidth}px`}\r\n        padding={false}\r\n        className={modalClassName}\r\n      >\r\n        <ImagePicker\r\n          unsplashAccessKey={unsplashAccessKey}\r\n          initialPhotoSearchQuery={initialPhotoSearchQuery}\r\n          onPhotoSelect={onPhotoSelect}\r\n        />\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["Modal","children","width","padding","active","setActive","_e","props","React","onClick","onKeyUp","e","key","className","cx","Card","stopPropagation","style","maxWidth","_","UnsplashPhotoCard","photo","onPhotoSelect","id","src","urls","thumb","alt","alt_description","color","user","profile_image","small","username","name","PhotoList","isLoading","isLoadingMore","photoList","total","loadMore","listHeight","ref","useMemo","createRef","onScroll","current","scrollTop","scrollHeight","clientHeight","Loader","Array","isArray","length","maxHeight","map","xmlns","fill","viewBox","cy","r","stroke","strokeWidth","d","SearchBar","setQuery","query","onSearch","searchPhotos","preventDefault","onSubmit","placeholder","type","value","onChange","target","ImagePicker","unsplashAccessKey","initialPhotoSearchQuery","useState","pics","setPics","setTotal","setIsLoading","setIsLoadingMore","page","setPage","unsplash","createApi","accessKey","useEffect","fetchPhotos","text","reset","search","getPhotos","perPage","orientation","then","response","newPics","results","mergedPics","error","console","log","ImagePickerModal","modalWidth","modalClassName"],"mappings":"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"}